<h1>Match <%= @match.id %></h1>

<h2><%= @match.player_x_id %> vs. <%= @match.player_o_id %></h2>

<p>
  Played moves: <%= render @match.moves.order(:cell) %>  
</p>

<p>
  Remaining moves:
  <% @match.remaining_moves.each do |cell| %>
    <% if @match.next_player == current_user %>
      <%= link_to cell, move_path(@match, cell: cell), method: :post %>
    <% else %>
      <%= cell %>
    <% end %>
  <% end %>
</p>

<p>
  Next player:
  <%= @match.next_player.name %>
</p>

<% if @move && @move.errors.any? %>
  Move not saved due to the following errors:
  <ul>
    <% @move.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>